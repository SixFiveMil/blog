<!doctype html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>Advent of Code 2024 - Day 7 // Code and Cypher</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.140.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Joshua Wortz" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.9fdef0ef39cd378bb2bf72c5e5f780b542864e9cac145d49a9d94f3c8ba00ab6.css" />
    

    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Advent of Code 2024 - Day 7">
  <meta name="twitter:description" content="Day 7 of #AdventOfCode 2024 was a complex problem set in a jungle, involving engineers calibrating a rope bridge and sneaky elephants. The challenge, â€œBridge Repair,â€ required determining whether equations could be made true by inserting a combination of operators (&#43;, *, and the new ||) into a series of numbers. While the problem itself was intriguing, it also introduced significant computational challenges, particularly with handling permutations and optimizing the process for large inputs.">

    <meta property="og:url" content="http://localhost:1313/posts/advent-of-code-2024---day-7/">
  <meta property="og:site_name" content="Code and Cypher">
  <meta property="og:title" content="Advent of Code 2024 - Day 7">
  <meta property="og:description" content="Day 7 of #AdventOfCode 2024 was a complex problem set in a jungle, involving engineers calibrating a rope bridge and sneaky elephants. The challenge, â€œBridge Repair,â€ required determining whether equations could be made true by inserting a combination of operators (&#43;, *, and the new ||) into a series of numbers. While the problem itself was intriguing, it also introduced significant computational challenges, particularly with handling permutations and optimizing the process for large inputs.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-12-07T00:00:00+00:00">
    <meta property="article:tag" content="AOC">


  </head>
  <body>
    <header class="app-header">
      <a href="http://localhost:1313/"><img class="app-header-avatar" src="/avatar.jpg" alt="Joshua Wortz" /></a>
      <span class="app-header-title">Code and Cypher</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>description here</p>
      <div class="app-header-social">
        
          <a href="https://github.com/SixFiveMil" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-github" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
          </a>
        
          <a href="https://www.linkedin.com/in/joshuawortz/" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-linkedin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>linkedin</title><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Advent of Code 2024 - Day 7</h1>
      <div class="post-meta">
        <div>
          <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          Dec 7, 2024
        </div>
        <div>
          <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
          4 min read
        </div>
        <div>
          <svg class="icon icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
              <a class="tag" href="http://localhost:1313/tags/aoc/">AOC</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>Day 7 of #AdventOfCode 2024 was a complex problem set in a jungle, involving engineers calibrating a rope bridge and sneaky elephants. The challenge, <strong>&ldquo;Bridge Repair,&rdquo;</strong> required determining whether equations could be made true by inserting a combination of operators (+, *, and the new ||) into a series of numbers. While the problem itself was intriguing, it also introduced significant computational challenges, particularly with handling permutations and optimizing the process for large inputs.</p>
<hr>
<h3 id="-the-challenge-complex-equations-and-permutations">ðŸ§© The Challenge: Complex Equations and Permutations</h3>
<p>Each equation in the puzzle came with a test value, and I had to figure out if inserting any combination of +, *, or the new <strong>concatenation (</strong>||) operator between numbers could produce that test value.</p>
<p><strong>Part 1:</strong> I focused on equations with + and *, evaluated left-to-right. For each equation, I checked all possible permutations of the operators between the numbers to see if the equation could match the test value.</p>
<p><strong>Part 2:</strong> The introduction of the <strong>concatenation (</strong>||) operator in Part 2 added more complexity. Now, not only did I have to handle the combinations of + and *, but I also had to incorporate the new operator into the permutations, further increasing the number of possible configurations to test.</p>
<hr>
<h3 id="-optimizing-permutations-with-cupy-and-multithreading">ðŸ’» Optimizing Permutations with CuPy and Multithreading</h3>
<p>The complexity of evaluating permutations across multiple operators was evident, especially as the input size increased. To optimize my solution, I used <strong>CuPy</strong>, a GPU-accelerated library for numerical computation, to speed up calculations, and I also implemented <strong>multithreading</strong> to parallelize the processing of multiple equations.</p>
<p>By using <strong>CuPy</strong> for matrix manipulations and number crunching, I was able to harness the power of the GPU to significantly reduce computation time. Additionally, <strong>multithreading</strong> allowed me to handle multiple equations simultaneously, further speeding up the process.</p>
<p>Hereâ€™s how I approached this optimization:</p>
<ol>
<li><strong>CuPy for Faster Calculations:</strong> CuPy is a GPU-backed alternative to NumPy, which can accelerate array operations. I used it to handle large matrix calculations for evaluating permutations efficiently.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> cupy <span style="color:#66d9ef">as</span> cp
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Advent of Code 2024 - Day 7</span>
</span></span><span style="display:flex;"><span>array <span style="color:#f92672">=</span> cp<span style="color:#f92672">.</span>array(terms)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Perform element-wise operations</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> cp<span style="color:#f92672">.</span>multiply(array\[<span style="color:#ae81ff">0</span>\], array\[<span style="color:#ae81ff">1</span>\]) <span style="color:#f92672">+</span> array\[<span style="color:#ae81ff">2</span>\]
</span></span></code></pre></div><ol start="2">
<li><strong>Multithreading for Parallel Processing:</strong> I used <strong>Python&rsquo;s</strong> concurrent.futures to parallelize the processing of multiple equations. By distributing the workload across multiple threads, I could process equations faster, particularly when dealing with larger datasets.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> concurrent.futures <span style="color:#f92672">import</span> ThreadPoolExecutor
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">evaluate</span>\_equation(eq):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Perform the evaluation logic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> ThreadPoolExecutor() <span style="color:#66d9ef">as</span> executor:
</span></span><span style="display:flex;"><span>    results <span style="color:#f92672">=</span> list(executor<span style="color:#f92672">.</span>map(evaluate\_equation, equations)) 
</span></span></code></pre></div><p>These optimizations allowed me to handle the increased complexity of testing permutations and make the computation process more efficient.</p>
<hr>
<h3 id="-key-takeaways">ðŸ”‘ Key Takeaways:</h3>
<ol>
<li><strong>Working with Permutations:</strong> The problem was complicated by the need to test multiple permutations of operators. This introduced significant computational overhead, particularly for larger inputs.</li>
<li><strong>Optimizing with CuPy:</strong> Using CuPy allowed me to take advantage of GPU acceleration, speeding up the evaluation of equations and matrix operations.</li>
<li><strong>Multithreading for Efficiency:</strong> Implementing multithreading ensured that I could process multiple equations in parallel, making the solution scalable even with larger datasets.</li>
<li><strong>Handling Complexity:</strong> The combination of different operators (+, *, ||) required dynamically adjusting my approach to evaluate the equations. This reinforced the importance of flexibility in algorithm design.</li>
</ol>
<hr>
<h3 id="-reflections-on-bridge-repair">ðŸš€ Reflections on &ldquo;Bridge Repair&rdquo;</h3>
<p>Day 7 was a fantastic exercise in both algorithmic problem-solving and performance optimization. While the challenge was primarily about parsing and validating equations, the real fun came from tackling the permutations and optimizing the computation process to handle large numbers of equations quickly. <strong>CuPy</strong> and <strong>multithreading</strong> were indispensable in speeding up the process, and I enjoyed the opportunity to apply these tools to real-world problems.</p>
<hr>
<h3 id="-looking-ahead">ðŸ“£ Looking Ahead</h3>
<p>Day 7 provided a deep dive into performance optimization, but thereâ€™s no slowing down as we approach Day 8! Iâ€™m looking forward to tackling even more complex puzzles and applying new techniques to optimize performance.</p>
<p>How did you approach Day 7? Did you face similar challenges with permutations and performance? Let me know in the commentsâ€”let&rsquo;s share our solutions and ideas!</p>
<p>You can check out my solution on GitHub: <a href="https://github.com/SixFiveMil/Advent_of_Code/tree/main/2024/Day%207">Day 7 Solutions</a></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
